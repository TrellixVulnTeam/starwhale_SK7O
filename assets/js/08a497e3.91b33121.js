"use strict";(self.webpackChunkstarwhale_docs=self.webpackChunkstarwhale_docs||[]).push([[929],{3905:function(e,t,n){n.d(t,{Zo:function(){return m},kt:function(){return d}});var a=n(7294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var s=a.createContext({}),c=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},m=function(e){var t=c(e.components);return a.createElement(s.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},p=a.forwardRef((function(e,t){var n=e.components,i=e.mdxType,r=e.originalType,s=e.parentName,m=l(e,["components","mdxType","originalType","parentName"]),p=c(n),d=i,h=p["".concat(s,".").concat(d)]||p[d]||u[d]||r;return n?a.createElement(h,o(o({ref:t},m),{},{components:n})):a.createElement(h,o({ref:t},m))}));function d(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var r=n.length,o=new Array(r);o[0]=p;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:i,o[1]=l;for(var c=2;c<r;c++)o[c]=n[c];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}p.displayName="MDXCreateElement"},1786:function(e,t,n){n.r(t),n.d(t,{assets:function(){return m},contentTitle:function(){return s},default:function(){return d},frontMatter:function(){return l},metadata:function(){return c},toc:function(){return u}});var a=n(7462),i=n(3366),r=(n(7294),n(3905)),o=["components"],l={title:"Starwhale Resources URI"},s=void 0,c={unversionedId:"guides/uri",id:"guides/uri",title:"Starwhale Resources URI",description:"Resource URI is widely used in Starwhale client commands. The URI can refer to a resource in the local instance or any other resource in a remote instance. In this way, the Starwhale client can easily manipulate any resource.",source:"@site/docs/guides/uri.md",sourceDirName:"guides",slug:"/guides/uri",permalink:"/docs/guides/uri",draft:!1,editUrl:"https://github.com/star-whale/starwhale/tree/main/docs/docs/guides/uri.md",tags:[],version:"current",frontMatter:{title:"Starwhale Resources URI"},sidebar:"mainSidebar",previous:{title:"Platform Architecture",permalink:"/docs/fundamentals/arch"},next:{title:"Dataset",permalink:"/docs/guides/dataset"}},m={},u=[{value:"Instance URI",id:"instance-uri",level:2},{value:"Project URI",id:"project-uri",level:2},{value:"Model/Dataset/Runtime URI",id:"modeldatasetruntime-uri",level:2},{value:"Evaluation URI",id:"evaluation-uri",level:2},{value:"Names Limitation",id:"names-limitation",level:2},{value:"Names uniqueness requirement",id:"names-uniqueness-requirement",level:3}],p={toc:u};function d(e){var t=e.components,n=(0,i.Z)(e,o);return(0,r.kt)("wrapper",(0,a.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"tip")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},(0,r.kt)("strong",{parentName:"p"},"Resource URI is widely used in Starwhale client commands. The URI can refer to a resource in the local instance or any other resource in a remote instance. In this way, the Starwhale client can easily manipulate any resource.")))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-graph"},"            Instance\n               |\n            Project\n               |\n   +-------+---+---+------+-------+\n   |       |       |      |       |\n Model  Dataset Runtime  Job  Evaluation\n   |       |       |      |       |\nVersion Version Version  Step   Version\n  Tag     Tag    Tag      |\n                         Task\n")),(0,r.kt)("h2",{id:"instance-uri"},"Instance URI"),(0,r.kt)("p",null,"Instance URI can be either:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"local"),": standalone instance."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[http(s)://]<hostname or ip>[:<port>]"),": cloud instance with HTTP address."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[cloud://]<cloud alias>"),": cloud instance with an alias name, which can be configured in the instance login phase.")),(0,r.kt)("div",{className:"admonition admonition-caution alert alert--warning"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"}))),"caution")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},'"local" is different from "localhost". The former means the local standalone instance without a controller, while the latter implies a controller listening at the default port 8082 on localhost.|'))),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"# login http://console.pre.intra.starwhale.ai instance, the alias is pre-k8s\nswcli instance login --username starwhale --password abcd1234 http://console.pre.intra.starwhale.ai --alias pre-k8s\n# copy model from the local instance, default project into cloud instance, instance field uses the alias name: pre-k8s.\nswcli model copy mnist/version/latest cloud://pre-k8s/project/1\n# copy runtime into cloud instance: localhost:8081\nswcli runtime copy pytorch/version/v1.0 http://localhost:8081/project/myproject\n")),(0,r.kt)("h2",{id:"project-uri"},"Project URI"),(0,r.kt)("p",null,"Project URI is in the format ",(0,r.kt)("inlineCode",{parentName:"p"},"[<Instance URI>/project/]<project name>"),". If the instance URI is not specified, use the default instance instead."),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"swcli project select self   # select self project in the current instance\nswcli project info local/project/self  # inspect self project info in the local instance\n")),(0,r.kt)("h2",{id:"modeldatasetruntime-uri"},"Model/Dataset/Runtime URI"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Model URI: ",(0,r.kt)("inlineCode",{parentName:"li"},"[<Project URI>/model/]<model name>[/version/<version id|tag>]"),"."),(0,r.kt)("li",{parentName:"ul"},"Dataset URI: ",(0,r.kt)("inlineCode",{parentName:"li"},"[<Project URI>/dataset/]<dataset name>[/version/<version id|tag>]"),"."),(0,r.kt)("li",{parentName:"ul"},"Runtime URI: ",(0,r.kt)("inlineCode",{parentName:"li"},"[<Project URI>/runtime/]<runtime name>[/version/<version id|tag>]"),"."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"swcli")," supports short version which is at least five characters, but ",(0,r.kt)("inlineCode",{parentName:"li"},"recover")," command must use full version."),(0,r.kt)("li",{parentName:"ul"},"If the project URI is not specified, use the default project."),(0,r.kt)("li",{parentName:"ul"},"The version id field also supports tag.")),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"swcli model info mnist/version/hbtdenjxgm4ggnrtmftdgyjzm43tioi  # inspect model info, model name: mnist, version:hbtdenjxgm4ggnrtmftdgyjzm43tioi\nswcli model remove mnist/version/hbtdenj  # short version\nswcli model info mnist  # inspect mnist model info\nswcli job create --model mnist/version/latest --runtime pytorch-mnist/version/latest --dataset mnist/version/latest\n")),(0,r.kt)("h2",{id:"evaluation-uri"},"Evaluation URI"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"format: ",(0,r.kt)("inlineCode",{parentName:"li"},"[<Project URI>/evaluation/]<job id>"),"."),(0,r.kt)("li",{parentName:"ul"},"If the project URI is not specified, use the default project.")),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"swcli eval info mezdayjzge3w   # Inspect mezdayjzge3w version in default instance and default project\nswcli eval info local/project/self/job/mezday # Inspect the local instance, self project, with short job version:mezday\n")),(0,r.kt)("h2",{id:"names-limitation"},"Names Limitation"),(0,r.kt)("p",null,"Names mean project names, model names, dataset names, runtime names, and tag names."),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Names are case-insensitive."),(0,r.kt)("li",{parentName:"ul"},"A name MUST only consist of letters ",(0,r.kt)("inlineCode",{parentName:"li"},"A-Z a-z"),", digits ",(0,r.kt)("inlineCode",{parentName:"li"},"0-9"),", the hyphen character ",(0,r.kt)("inlineCode",{parentName:"li"},"-"),", the dot character ",(0,r.kt)("inlineCode",{parentName:"li"},"."),", and the underscore character ",(0,r.kt)("inlineCode",{parentName:"li"},"_"),"."),(0,r.kt)("li",{parentName:"ul"},"A name should always start with a letter or the ",(0,r.kt)("inlineCode",{parentName:"li"},"_")," character."),(0,r.kt)("li",{parentName:"ul"},"The maximum length of a name is 80.")),(0,r.kt)("h3",{id:"names-uniqueness-requirement"},"Names uniqueness requirement"),(0,r.kt)("p",null,"The resource name should be a unique string within its owner. For example, the project name should be unique in the owner instance, and the model name should be unique in the owner project."),(0,r.kt)("p",null,'The resource name can not be used by any other resource of the same kind in the owner, including those removed ones. For example, Project "apple" can not have two models named "Alice", even if one of them is already removed.'),(0,r.kt)("p",null,'Different kinds of resources can have the same name. For example, a project and a model can have the same name "Alice".'),(0,r.kt)("p",null,'Resources with different owners can have the same name. For example, a model in project "Apple" and a model in project "Banana" can have the same name "Alice".'),(0,r.kt)("p",null,'Garbage collected resources\' names can be reused. For example, after the model with the name "Alice" in project "Apple" is removed and garbage collected, the project can have a new model with the same name "Alice".'))}d.isMDXComponent=!0}}]);